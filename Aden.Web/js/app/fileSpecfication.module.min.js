function createFileSpecificationGridActionButtons(n,t){var i="",u=t.data.isRetired,f=t.data.fileNumber,e=t.data.dataYear,r=t.data.id;u||(i+='<a class="btn btn-default btn-sm btn-grid" href="/reports/'+f+"/"+e+'" data-retire data-filespec-id='+r+'><i class="fa fa-spinner fa-spin hidden"><\/i> Retire<\/a>&nbsp;');u&&(i+='<a class="btn btn-default btn-sm btn-grid" href="/reports/'+f+"/"+e+'" data-activate data-filespec-id='+r+'><i class="fa fa-spinner fa-spin hidden"><\/i> Activate<\/a>&nbsp;');i+='<a class="btn btn-default btn-sm btn-grid" href="/EditFileSpecification/'+r+'" data-edit data-id="'+r+'">Edit<\/a>';n.append(i)}$(function(){console.log("file specification ready");var n=$("#grid").dxDataGrid("instance");$(document).on("click","[data-edit]",function(n){n.preventDefault();var t=$(this).attr("href");$.ajax({url:t,type:"GET",success:function(n){window.showBSModal({title:"Edit Specification",body:n,size:"lg",actions:[{label:"Cancel",cssClass:"btn-default",onClick:function(n){$(n.target).parents(".modal").modal("hide");$("body").removeClass("modal-open");$(".modal-backdrop").remove()}},{label:"Save",cssClass:"btn-primary",onClick:function(n){var t=$("form"),i="/api/filespecification/"+$("#Id").val();window.$showModalWorking();$.ajax({type:"PUT",url:i,data:$("form").serialize(),success:function(){$("body").removeClass("modal-open");$(n.target).parents(".modal").modal("hide");$("#grid").dxDataGrid("instance").refresh().done(function(){});window.toastr.success("Saved ")},error:function(n){var i=JSON.parse(n.responseText);$.each(i.modelState,function(n,i){window.remoteErrors(t,n,i)})},complete:function(){window.$hideModalWorking()}})}}]})},error:function(n){console.log("err",n);window.$log.error("Error showing reassignment")}})});$(document).on("click","[data-retire]",function(t){t.preventDefault();var i=$(this),r=i.data("filespec-id");window.$toggleWorkingButton(i);$.ajax({url:"/api/filespecification/retire/"+r,type:"POST",success:function(t){n.refresh();window.$log.success("Retired "+t.fileNumber+" - "+t.fileName)},error:function(n){console.log("err",n);window.$log.error("Something went wrong: "+n.message)}}).always(function(){window.$toggleWorkingButton(i)})});$(document).on("click","[data-activate]",function(t){t.preventDefault();var i=$(this),r=i.data("filespec-id");window.$toggleWorkingButton(i);$.ajax({url:"/api/filespecification/activate/"+r,type:"POST",success:function(t){n.refresh().done(function(n){console.log("done",n)});window.$log.success("Activated "+t.fileNumber+" - "+t.fileName)},error:function(n){console.log("err",n);window.$log.error("Something went wrong: "+n.message)}}).always(function(){window.$toggleWorkingButton(i)})})});