function createFileSpecificationGridActionButtons(n,t){var i="",u=t.data.canRetire,f=t.data.canActivate,r=t.data.id;u&&(i+='<button class="btn btn-default btn-sm btn-grid" data-retire data-filespec-id='+r+'><i class="fa fa-spinner fa-spin hidden"><\/i> Retire<\/button>');f&&(i+='<button class="btn btn-default btn-sm btn-grid" data-activate data-filespec-id='+r+'><i class="fa fa-spinner fa-spin hidden"><\/i> Activate<\/button>');i+='<button class="btn btn-default btn-sm btn-grid" href="/EditFileSpecification/'+r+'" data-edit data-id="'+r+'">Edit<\/button>';n.append(i)}$(function(){console.log("file specification ready");var n=$("#grid").dxDataGrid("instance");$(document).on("click","[data-edit]",function(n){n.preventDefault();var t=$(this).attr("href"),i="Edit Specification";$.ajax({url:t,type:"GET",success:function(){window.BootstrapDialog.show({size:window.BootstrapDialog.SIZE_WIDE,closeByBackdrop:!1,closeByKeyboard:!1,draggable:!0,title:i,message:$("<div><\/div>").load(t,function(n,t){t==="error"&&window.$log.error("Error showing history")}),buttons:[{label:"Close",action:function(n){n.close()}},{label:"Save",cssClass:"btn-primary",action:function(n){var t=$("form"),i="/api/filespecification/"+$("#Id").val();window.$showModalWorking();$.ajax({type:"PUT",url:i,data:$("form").serialize(),success:function(){n.close();$("#grid").dxDataGrid("instance").refresh().done(function(){});window.toastr.success("Saved ")},error:function(n){var i=JSON.parse(n.responseText);$.each(i.modelState,function(n,i){window.remoteErrors(t,n,i)})},complete:function(){n.close()}})}}]})},error:function(){window.$log.error("Error showing edit form")}})});$(document).on("click","[data-retire]",function(t){t.preventDefault();var i=$(this),r=i.data("filespec-id");window.$toggleWorkingButton(i);$.ajax({url:"/api/filespecification/retire/"+r,type:"POST",success:function(t){n.refresh();window.$log.success("Retired "+t.fileNumber+" - "+t.fileName)},error:function(n){console.log("err",n);window.$log.error("Something went wrong: "+n.message)}}).always(function(){window.$toggleWorkingButton(i)})});$(document).on("click","[data-activate]",function(t){var i,r;t.preventDefault();i=$(this);window.$toggleWorkingButton(i);r=i.data("filespec-id");$.ajax({url:"/api/filespecification/activate/"+r,type:"POST",success:function(t){n.refresh().done(function(n){console.log("done",n)});window.$log.success("Activated "+t.fileNumber+" - "+t.fileName)},error:function(n){window.$log.error("Something went wrong: "+n.message)}}).always(function(){window.$toggleWorkingButton(i)})});$(document).on("click","[data-modify-group]",function(n){n.preventDefault();var t=$(this),i=t.data("id"),r=t.data("group-name"),u="/editgroupmembership/"+i+"/"+r;window.BootstrapDialog.show({size:window.BootstrapDialog.SIZE_NORMAL,closable:!0,closeByBackdrop:!1,closeByKeyboard:!1,title:"Edit Membership",message:$("<div><\/div>").load(u,function(n,t){t==="error"&&(console.log("status",t),console.log("resp",n),window.$log.error("Error showing group membership"))}),buttons:[{label:"Close",action:function(n){n.close()}}]})});$(document).on("click","#btnAddGroupMember",function(n){n.preventDefault();$.ajax({type:"PUT",url:"/api/filespecification/groupmembers/",data:$("#groupForm").serialize(),success:function(n){console.log("success",n);window.$log.success("Request has been sent to HelpDesk. Check back in 24 hours. ")},error:function(n){console.log("error",n)}}).always(function(){})});$(document).on("click","#btnRemoveGroupMember",function(n){n.preventDefault();var t=$(this),i=t.data("email");$("#memberForm #email").val(i);$.ajax({type:"DELETE",url:"/api/filespecification/groupmembers/",data:$("#memberForm").serialize(),processData:!1,success:function(n){console.log("success",n);window.$log.success("Request has been sent to HelpDesk. Check back in 24 hours. ")},error:function(n){console.log("error",n);window.$log.success("Error in request. "+n)}}).always(function(){})})});